plugins {
    alias(libs.plugins.android.application)
    alias(libs.plugins.kotlin.android)
    alias(libs.plugins.kotlin.kapt)
    alias(libs.plugins.dagger.hilt)
    alias(libs.plugins.androix.safeargs)
    alias(libs.plugins.androix.room)
    alias(libs.plugins.android.ksp)
    alias(libs.plugins.kotlin.compose)
}

kapt {
    correctErrorTypes = true
}

android {
    compileSdk 35

    defaultConfig {
        applicationId "com.example.peliculaspopulares"
        minSdk 23
        targetSdk 35
        versionCode 1
        versionName "1.0"

        buildConfigField("String", "BASE_URL",  "\"https://api.themoviedb.org/3/\"")
        buildConfigField("String", "PATH_PELICULAS",  "\"movie/\"")
        //buildConfigField("String", "QUERY_POPULAR",  "\"popular?\"")
        buildConfigField("String", "QUERY_POPULAR",  "\"top_rated?\"")
        buildConfigField("String", "QUERY_PELICULAID",  "\"{movieid}?\"")
        buildConfigField("String", "BASE_URL_IMAGEN",  "\"https://image.tmdb.org/t/p/original\"")
        buildConfigField("String", "API_KEY",  "\"api_key=02910252245f8276bb2edbf724510082\"")
        buildConfigField("String", "QUERY_LENGUAJE",  "\"&language=es\"")


        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_11
        targetCompatibility = JavaVersion.VERSION_11
    }
    kotlinOptions {
        jvmTarget = "11"
    }
    buildFeatures {
        compose = true
        viewBinding = true
    }

    room {
        schemaDirectory("$projectDir/schemas")
    }

    ksp {
        arg("option1", "value1")
        arg("option2", "value2")

    }
    namespace 'com.example.peliculaspopulares'

}

dependencies {

    implementation (libs.androidx.core.ktx)
    implementation (libs.androidx.appcompat)
    implementation (libs.material)
    implementation (libs.androidx.constraintlayout)
    implementation libs.androidx.room.common.jvm
    testImplementation (libs.junit)
    androidTestImplementation (libs.androidx.junit)
    androidTestImplementation (libs.androidx.espresso.core)
    implementation (libs.converter.gson)
    implementation (libs.gson)
    implementation (libs.logging.interceptor)
    implementation (libs.androidx.lifecycle.runtime.ktx)
    androidTestImplementation (libs.androidx.junit)
    androidTestImplementation (libs.androidx.espresso.core)
    implementation (libs.lifecycle.viewmodel.ktx)
    implementation(libs.androidx.navigation.runtime.ktx)
    implementation(libs.navigation.fragment.ktx)
    implementation(libs.navigation.ui.ktx)
    implementation(libs.coil3.coil)
    implementation(libs.coil3.coil.network.okhttp)
    implementation(libs.androidx.fragment.ktx)
    // Moshi
    implementation (libs.moshi.kotlin)
    // Retrofit with Moshi Converter
    implementation (libs.retrofit2.converter.moshi)

    implementation (libs.kotlinx.coroutines.android)

    implementation(libs.hilt.android)
    kapt(libs.dagger.hilt.android.compiler)

    // Add the dependencies for any other desired Firebase products
    // https://firebase.google.com/docs/android/setup#available-libraries

    // Import the Firebase BoM (see: https://firebase.google.com/docs/android/learn-more#bom)
    implementation(platform(libs.firebase.bom))

    // Firebase Cloud Messaging
    implementation(libs.firebase.messaging)

    // For an optimal experience using FCM, add the Firebase SDK
    // for Google Analytics. This is recommended, but not required.
    implementation(libs.firebase.analytics)

    implementation(libs.firebase.installations)

    implementation(libs.androidx.work.runtime)

    //Room
    implementation (libs.androidx.room.runtime)
    ksp(libs.androidx.room.compiler)


    // optional - Kotlin Extensions and Coroutines support for Room
    implementation (libs.androidx.room.ktx)

    implementation(libs.androidx.core.ktx)
    implementation (libs.androidx.appcompat)
    implementation(libs.androidx.lifecycle.runtime.ktx)
    implementation(libs.androidx.activity.compose)
    implementation(platform(libs.androidx.compose.bom))
    implementation(libs.androidx.ui)
    implementation(libs.androidx.ui.graphics)
    implementation(libs.androidx.ui.tooling.preview)
    implementation(libs.androidx.material3)
    implementation(libs.androidx.compose.ui.unit)
    implementation(libs.androidx.navigation.compose)
    implementation(libs.androidx.compose.material3)
    implementation(libs.androidx.compose.runtime.livedata)
    testImplementation(libs.junit)
    androidTestImplementation(libs.androidx.junit)
    androidTestImplementation(libs.androidx.espresso.core)
    androidTestImplementation(platform(libs.androidx.compose.bom))
    androidTestImplementation(libs.androidx.ui.test.junit4)
    debugImplementation(libs.androidx.ui.tooling)
    debugImplementation(libs.androidx.ui.test.manifest)

    androidTestImplementation (libs.androidx.espresso.core)
    implementation (libs.converter.gson)
    implementation (libs.gson)
    implementation (libs.logging.interceptor)


    implementation (libs.lifecycle.viewmodel.ktx)
    implementation(libs.androidx.navigation.runtime.ktx)
    implementation(libs.navigation.fragment.ktx)
    implementation(libs.navigation.ui.ktx)
    implementation ("androidx.navigation:navigation-dynamic-features-fragment:2.9.1")
    //implementation("io.coil-kt:coil:2.5.0")
    implementation("io.coil-kt.coil3:coil:3.2.0")
    implementation("io.coil-kt.coil3:coil-network-okhttp:3.2.0")
    //Room
    implementation ("androidx.room:room-runtime:2.7.2")
    ksp("androidx.room:room-compiler:2.7.2")


    // optional - Kotlin Extensions and Coroutines support for Room
    implementation ("androidx.room:room-ktx:2.7.2")


    // WorkManager dependency
    implementation ("androidx.work:work-runtime-ktx:2.10.2")

    implementation("io.coil-kt:coil-compose:2.4.0")
    implementation("androidx.lifecycle:lifecycle-viewmodel-compose:2.6.2")
    implementation("androidx.lifecycle:lifecycle-runtime-ktx:2.6.2")

    // Retrofit with Kotlin serialization Converter
    implementation("com.jakewharton.retrofit:retrofit2-kotlinx-serialization-converter:1.0.0")

    // Kotlin serialization
    implementation("org.jetbrains.kotlinx:kotlinx-serialization-json:1.5.1")


}
